<head>
<link rel="stylesheet" type="text/css" href="/css/contacts.css">
<script src="/js/fone_book.js"></script>
<h1>CONTACTS</h1>
</head>
<body>
<div class="new_butn">
<a href='/create_contact'><button>Create a new contact</button></a>
</div>
<form method="post" action="/contacts" id="myform">

<input type="text" id="searchinput" onkeyup="searchfunk()" placeholder="Search for names.." title="Type in a name">
    <table style="width:100%" id="table">
    <div class="table" id="contacts_table">
    <tr>
        <th>FIRST NAME</th>
        <th>LAST NAME</th>
        <th>STREET</th>
        <th>CITY</th>
        <th>STATE</th>
        <th>ZIP</th>
        <th>PHONE NUMBER</th>
    </tr>
    </div>
    <%contacts.each_with_index do |v, i|%>
        <tr>
        <%v.each do |info|%>
            <td><%=info%></td>
        <%end%>
        <td><button type="button" id="myBtn" onclick="modalstuff()">Open Modal</button></td>
        <td><div class='update'> <a href='/update'><button type="button" id="up_button" data-session="<%= session[:user_id]%>" onclick="save_id()" name="up_button">Update</button></a></div></td>
        </tr>
        
    <%end%>
</div>
</form>

<script>
function modalstuff(){ //You didnt wrap function in {}
    var modal = document.getElementById('myModal');
    var btn = document.getElementById("myBtn");
    var span = document.getElementsByClassName("close")[0];
    btn.onclick = function() {
        modal.style.display = "block";
    }
    span.onclick = function() {
        modal.style.display = "none";
    }
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
}
</script>

 </table>
  <div id="myModal" class="modal"> <!-- The modal class doesnt exist -->
   <div class="modal-content"><!--Same, define these in css file-->
    <span class="close">&times;</span>
    
    <input type="text" placeholder="First Name" name="firstname" required><br>
    <input type="text" placeholder="Last Name" name="lastname" required><br>
    <input type="text" placeholder="Street" name="street" required><br>
    <input type="text" placeholder="City" name="city" required><br>
    <input type="text" placeholder="State" name="state" required><br>
    <input type="text" placeholder="Zip" name="zip" required><br>
    <input type="text" placeholder="Phone Number" name="phonenumber" required><br>

    <input type='submit'>



  </div>
 
</body>